<!DOCTYPE html>
<html lang="zh_CN">
<head>
    <meta charset="UTF-8">
    <title>where r u</title>
    <script src="http://api.map.baidu.com/api?v=2.0&ak=ckZG7a6OaGswqCxh5lTB5ztGziBkdADS" type="text/javascript"></script>
    <!--<script src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script>-->
    <style type="text/css">
        html{height:100%}
        body{height:100%;margin:0;padding:0}
        #container{height:100%}
    </style>
</head>
<body>
<div id="container"></div>
<script type="text/javascript">
    //var map = new BMap.Map("container");          // 创建地图实例
    //var point = new BMap.Point(116.404, 39.915);  // 创建点坐标
    //map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别
</script>
<script>
    var map = new BMap.Map("container");
    var longitude, latitude;
    navigator.geolocation.getCurrentPosition(function (position) {
        longitude = position.coords.longitude;
        latitude = position.coords.latitude;
    });
//    setTimeout(function () {
//        var gpsPoint = new BMap.Point(longitude, latitude);
//        BMap.Convertor.translate(gpsPoint, 0, function (point) {
//            var geoc = new BMap.Geocoder();
//            geoc.getLocation(point, function (rs) {
//                var addComp = rs.addressComponents;
//                console.log(addComp.province + ", " + addComp.city + ", " + addComp.district + ", " + addComp.street + ", " + addComp.streetNumber);
//            });
//        });
//    }, 3000);

    var point = new BMap.Point(longitude, latitude);  // 创建点坐标
    map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别
</script>

</body>
</html>